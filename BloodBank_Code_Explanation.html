<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Blood Bank Management System - Code Explanation</title>
    <style>
      body {
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        line-height: 1.6;
        color: #333;
        max-width: 1000px;
        margin: 0 auto;
        padding: 20px;
        background-color: #f8f9fa;
      }

      h1,
      h2,
      h3 {
        color: #2c3e50;
      }

      h1 {
        text-align: center;
        border-bottom: 3px solid #3498db;
        padding-bottom: 10px;
      }

      h2 {
        border-bottom: 2px solid #3498db;
        padding-bottom: 5px;
        margin-top: 30px;
      }

      .container {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 0 20px rgba(0, 0, 0, 0.1);
      }

      code {
        background-color: #ecf0f1;
        padding: 2px 5px;
        border-radius: 3px;
        font-family: "Courier New", monospace;
      }

      pre {
        background-color: #2c3e50;
        color: #ecf0f1;
        padding: 15px;
        border-radius: 5px;
        overflow-x: auto;
      }

      .section {
        margin-bottom: 30px;
      }

      ul,
      ol {
        padding-left: 20px;
      }

      li {
        margin-bottom: 10px;
      }

      .highlight {
        background-color: #d4edda;
        border-left: 4px solid #28a745;
        padding: 15px;
        margin: 20px 0;
      }

      .warning {
        background-color: #fff3cd;
        border-left: 4px solid #ffc107;
        padding: 15px;
        margin: 20px 0;
      }
    </style>
  </head>
  <body>
    <div class="container">
      <h1>Blood Bank Management System - Code Explanation</h1>

      <div class="section">
        <h2>Project Structure</h2>
        <p>
          The application follows the
          <strong>MVC (Model-View-Controller)</strong> pattern:
        </p>
        <ul>
          <li>
            <strong>Model</strong>: The <code>Donor</code> class represents the
            data structure for a blood donor
          </li>
          <li>
            <strong>View</strong>: FXML files define the user interface (like
            forms and tables)
          </li>
          <li>
            <strong>Controller</strong>: Java classes that handle user
            interactions and business logic
          </li>
        </ul>
      </div>

      <div class="section">
        <h2>Core Components</h2>

        <h3>1. Main Application (Main.java)</h3>
        <ul>
          <li>This is the entry point of the application</li>
          <li>It initializes the database and loads the main menu interface</li>
          <li>Sets up the JavaFX window with appropriate size and title</li>
        </ul>

        <h3>2. Data Model (Donor.java)</h3>
        <p>Represents a blood donor with properties:</p>
        <ul>
          <li><code>donorId</code>: Unique identifier</li>
          <li><code>name</code>: Donor's full name</li>
          <li><code>bloodGroup</code>: Blood type (A+, B-, O+, etc.)</li>
          <li><code>city</code>: Donor's location</li>
          <li><code>contact</code>: Phone number</li>
          <li>
            <code>availability</code>: Whether donor is available for donation
          </li>
          <li><code>lastDonationDate</code>: When they last donated</li>
        </ul>

        <h3>3. Database Access (DonorDAO.java)</h3>
        <p><strong>DAO</strong> stands for Data Access Object</p>
        <p>Handles all database operations:</p>
        <ul>
          <li><code>insertDonor()</code>: Add a new donor</li>
          <li><code>getAllDonors()</code>: Retrieve all donors</li>
          <li>
            <code>searchDonorsByBloodGroup()</code>: Find donors by blood type
          </li>
          <li><code>updateDonor()</code>: Modify donor information</li>
          <li><code>deleteDonor()</code>: Remove a donor</li>
          <li>
            <code>getAvailableDonors()</code>: Find donors ready to donate
          </li>
        </ul>
        <p>Uses JDBC to connect to MySQL database</p>

        <h3>4. Database Connection (DBConnect.java)</h3>
        <ul>
          <li>Manages the connection to the MySQL database</li>
          <li>Handles credentials and connection settings</li>
        </ul>
      </div>

      <div class="section">
        <h2>User Interface Screens</h2>
        <p>Each controller handles a specific function:</p>
        <ol>
          <li>
            <strong>Register</strong> (RegisterController.java): Add new donors
            to the system
          </li>
          <li>
            <strong>Search</strong> (SearchController.java): Find donors by
            blood group
          </li>
          <li>
            <strong>Update</strong> (UpdateController.java): Modify existing
            donor information
          </li>
          <li>
            <strong>Delete</strong> (DeleteController.java): Remove donors from
            the system
          </li>
          <li>
            <strong>Emergency</strong> (EmergencyController.java): Quick access
            to available donors
          </li>
          <li>
            <strong>Filter</strong> (FilterController.java): Advanced search
            with multiple criteria
          </li>
          <li>
            <strong>Statistics</strong> (StatisticsController.java): View data
            insights
          </li>
          <li>
            <strong>About</strong> (AboutController.java): Application
            information
          </li>
        </ol>
      </div>

      <div class="section">
        <h2>How It Works Step by Step</h2>
        <ol>
          <li>
            <strong>Startup</strong>:
            <ul>
              <li>Application launches and connects to MySQL database</li>
              <li>Creates the "donors" table if it doesn't exist</li>
              <li>Loads sample data if none exists</li>
              <li>Displays the main menu</li>
            </ul>
          </li>
          <li>
            <strong>User Interaction</strong>:
            <ul>
              <li>User clicks a button (Register, Search, etc.)</li>
              <li>Application loads the appropriate FXML interface</li>
              <li>Controller class handles the specific functionality</li>
            </ul>
          </li>
          <li>
            <strong>Data Operations</strong>:
            <ul>
              <li>When user enters data, controller validates it</li>
              <li>
                Controller calls DonorDAO methods to interact with database
              </li>
              <li>Database returns results to controller</li>
              <li>Controller updates the user interface with results</li>
            </ul>
          </li>
          <li>
            <strong>Error Handling</strong>:
            <ul>
              <li>
                Each controller has a <code>showAlert()</code> method for
                displaying messages
              </li>
              <li>Database errors are caught and displayed to user</li>
              <li>Input validation prevents invalid data entry</li>
            </ul>
          </li>
        </ol>
      </div>

      <div class="section">
        <h2>Exception Handling</h2>

        <h3>What is Exception Handling?</h3>
        <p>
          Exception handling is a programming technique that allows the
          application to gracefully handle errors or unexpected situations
          without crashing. Instead of the program stopping when something goes
          wrong, it can display a user-friendly message and continue running.
        </p>

        <h3>How It's Used in Each File:</h3>

        <h4>Main.java:</h4>
        <pre>
try {
    // Database initialization code
} catch (SQLException e) {
    System.err.println("Failed to initialize database: " + e.getMessage());
    e.printStackTrace();
}

try {
    // FXML loading code
} catch(Exception e) {
    e.printStackTrace();
}</pre
        >
        <ul>
          <li>Handles database connection errors</li>
          <li>Handles FXML loading errors</li>
        </ul>

        <h4>MainMenuController.java:</h4>
        <pre>
try {
    // Screen loading code
} catch (IOException e) {
    e.printStackTrace();
    showAlert(Alert.AlertType.ERROR, "Error", "Failed to load screen: " + e.getMessage());
}</pre
        >
        <ul>
          <li>Handles errors when loading different screens</li>
          <li>Shows user-friendly error messages</li>
        </ul>

        <h4>RegisterController.java:</h4>
        <pre>
try {
    // Registration logic
} catch (Exception e) {
    showAlert(Alert.AlertType.ERROR, "Error", "An error occurred: " + e.getMessage());
    e.printStackTrace();
}</pre
        >
        <ul>
          <li>Handles form validation errors</li>
          <li>Handles database insertion errors</li>
        </ul>

        <h4>DonorDAO.java:</h4>
        <pre>
try {
    // Database operations
} catch (SQLException e) {
    e.printStackTrace();
    return false; // or return empty list
}</pre
        >
        <ul>
          <li>Handles all database-related errors</li>
          <li>Returns safe default values when errors occur</li>
        </ul>

        <div class="highlight">
          <strong>Key Benefits:</strong>
          <ul>
            <li>Prevents application crashes</li>
            <li>Provides meaningful error messages to users</li>
            <li>Logs technical details for developers</li>
            <li>Maintains application stability</li>
          </ul>
        </div>
      </div>

      <div class="section">
        <h2>Multithreading</h2>

        <h3>What is Multithreading?</h3>
        <p>
          Multithreading allows a program to perform multiple tasks
          simultaneously. In JavaFX applications, this is important because:
        </p>
        <ol>
          <li>The UI (user interface) needs to stay responsive</li>
          <li>Long-running operations shouldn't freeze the application</li>
        </ol>

        <h3>How It's Used in This Project:</h3>

        <h4>JavaFX Built-in Threading:</h4>
        <ul>
          <li>JavaFX automatically uses multiple threads</li>
          <li>The UI runs on the "Application Thread"</li>
          <li>Background operations can run on separate threads</li>
        </ul>

        <h4>Animations in MainMenuController.java:</h4>
        <pre>
// Fade, Scale, and Parallel transitions run on separate threads
FadeTransition fadeTransition = new FadeTransition(Duration.seconds(2), titleLabel);
ScaleTransition scaleTransition = new ScaleTransition(Duration.seconds(2), titleLabel);
ParallelTransition parallelTransition = new ParallelTransition(fadeTransition, scaleTransition);
parallelTransition.play(); // Runs asynchronously</pre
        >
        <ul>
          <li>Animations run without blocking the main UI</li>
          <li>Users can interact with buttons while animations play</li>
        </ul>

        <h4>Button Hover Effects:</h4>
        <pre>
button.setOnMouseEntered(e -> {
    // Animation effects that run asynchronously
    ScaleTransition scaleTransition = new ScaleTransition(Duration.millis(200), button);
    scaleTransition.play();
});</pre
        >
        <ul>
          <li>Smooth hover effects that don't block other operations</li>
        </ul>

        <div class="highlight">
          <strong>Key Benefits:</strong>
          <ul>
            <li>Keeps the user interface responsive</li>
            <li>Animations run smoothly</li>
            <li>
              Users can interact with the application while background processes
              work
            </li>
            <li>Better overall user experience</li>
          </ul>
        </div>
      </div>

      <div class="section">
        <h2>Summary</h2>
        <div class="highlight">
          <p>
            <strong>Exception Handling</strong>: Used throughout the application
            to catch and handle errors gracefully, preventing crashes and
            providing helpful feedback to users.
          </p>
          <p>
            <strong>Multithreading</strong>: Primarily handled by JavaFX's
            built-in threading model, ensuring the UI stays responsive while
            animations and background operations run smoothly.
          </p>
          <p>
            Both concepts work together to create a stable, user-friendly
            application that handles errors well and maintains good performance.
          </p>
        </div>
      </div>
    </div>
  </body>
</html>
